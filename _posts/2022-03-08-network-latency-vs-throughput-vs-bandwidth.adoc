= Network Latency vs. Throughput vs. Bandwidth
:page-layout: post
:page-categories: ['network']
:page-tags: ['network']
:page-date: 2022-03-08 14:30:33 +0800
:page-revdate: 2022-03-08 14:30:33 +0800

image::https://www.dnsstuff.com/wp-content/uploads/2020/12/image-11.png[]

== Use qperf to measure network bandwidth and latency

[source,console]
----
root@node-0:~# apt install qperf
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
qperf is already the newest version (0.4.11-2).
0 upgraded, 0 newly installed, 0 to remove and 15 not upgraded.


root@node-0:~# qperf
----

[source,console]
----
root@node-2:~# apt install qperf
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
qperf is already the newest version (0.4.11-2).
0 upgraded, 0 newly installed, 0 to remove and 33 not upgraded.

root@node-2:~# qperf -lp 19765 -ip 19766 -vvs -t 60 --use_bits_per_sec node-0 tcp_lat tcp_bw
tcp_lat:
    latency         =     345 us
    msg_rate        =     2.9 K/sec
    loc_send_bytes  =    86.9 KB
    loc_recv_bytes  =    86.9 KB
    loc_send_msgs   =  86,943 
    loc_recv_msgs   =  86,942 
    rem_send_bytes  =    86.9 KB
    rem_recv_bytes  =    86.9 KB
    rem_send_msgs   =  86,942 
    rem_recv_msgs   =  86,942 
tcp_bw:
    bw          =     1.02 Gb/sec
    msg_rate    =     1.94 K/sec
    send_bytes  =     7.63 GB
    send_msgs   =  116,438 
    recv_bytes  =     7.63 GB
    recv_msgs   =  116,438 
----

== References

* https://en.wikipedia.org/wiki/Network_delay
* https://en.wikipedia.org/wiki/Latency_+++(engineering)+++
* https://en.wikipedia.org/wiki/Round-trip_delay
* https://en.wikipedia.org/wiki/End-to-end_delay
* https://en.wikipedia.org/wiki/Bandwidth+++_(computing)+++
* https://en.wikipedia.org/wiki/Throughput
* https://en.wikipedia.org/wiki/Goodput
* https://en.wikipedia.org/wiki/Measuring_network_throughput
* https://en.wikipedia.org/wiki/Binary_prefix
* https://www.dnsstuff.com/latency-throughput-bandwidth
* https://www.keycdn.com/blog/network-bandwidth
* https://www.allconnect.com/blog/difference-between-bandwidth-and-latency
* https://flexnetworks.ca/latency-and-bandwidth/
* https://www.highspeedinternet.com/resources/bandwidth-vs-latency-what-is-the-difference
* https://iperf.fr/
* https://www.ateam-oracle.com/post/testing-latency-and-throughput
* https://access.redhat.com/solutions/2122681

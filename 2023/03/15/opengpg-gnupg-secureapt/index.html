<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bing WebMaster -->
  <meta name="msvalidate.01" content="AB2FFF876C37F59D9121882CC8395DE5" />

  <title>OpenGPG, GnuPG and SecureApt</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://blog.codefarm.me/2023/03/15/opengpg-gnupg-secureapt/">
  <link rel="alternate" type="application/rss+xml" title="CODE FARM" href="https://blog.codefarm.me/feed.xml">

  <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->
<script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>

  
<!-- Google Analytics Website tracking -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83971182-1', 'auto');
  ga('send', 'pageview');

</script>


  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SN88FJ18E5');
</script>



</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <h2 class="site-title">
      <a class="site-title" href="/">CODE FARM</a>
    </h2>

     <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
        <div class="trigger">
            <ul>
                <li><a href="/">home</a>
                <li><a href="/category">category</a>
                <li><a href="/tag">tag</a>
                <li><a href="/archive">archive</a>
                <li><a href="/about">about</a>
                <li><a href="https://resume.github.io/?qqbuby" target="_blank">R&eacute;sum&eacute;</a>
            </ul>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">OpenGPG, GnuPG and SecureApt</h1>
    
    
    <p class="post-meta"><time datetime="2023-03-15T15:40:07+08:00" itemprop="datePublished">Mar 15, 2023</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>OpenPGP is a non-proprietary format for authenticating or encrypting data, using public key cryptography. <a href="#opengpg">[opengpg]</a></p>
</div>
<div class="paragraph">
<p>It is based on the original PGP (Pretty Good Privacy) software.</p>
</div>
<div class="paragraph">
<p>Beginning in 1997, the OpenPGP Working Group was formed in the Internet Engineering Task Force (IETF) to define this standard that had formerly been a proprietary product since 1991.</p>
</div>
<div class="paragraph">
<p>Over the past decade, PGP, and later OpenPGP, has become the standard for nearly all of the worldâ€™s signed or encrypted email.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#gnu-privacy-guard">1. GNU Privacy Guard</a></li>
<li><a href="#hands-on-guide-on-gpg-keys">2. Hands-on Guide on GPG Keys</a>
<ul class="sectlevel2">
<li><a href="#generate-a-key-pair">2.1. Generate a Key Pair</a></li>
<li><a href="#generate-an-authentication-subkey">2.2. Generate an Authentication Subkey</a></li>
<li><a href="#list-keys">2.3. List Keys</a></li>
<li><a href="#exporting-keys">2.4. Exporting Keys</a></li>
<li><a href="#fingerprints">2.5. Fingerprints</a></li>
<li><a href="#generating-a-revocation-certificate">2.6. Generating a Revocation Certificate</a></li>
<li><a href="#sending-and-importing-keys">2.7. Sending and Importing Keys</a></li>
<li><a href="#signing-keys">2.8. Signing Keys</a></li>
</ul>
</li>
<li><a href="#openpgp-integration-in-apt">3. OpenPGP integration in APT</a>
<ul class="sectlevel2">
<li><a href="#debianrepositoryusethirdparty-instructions-to-connect-to-a-third-party-repository">3.1. DebianRepositoryUseThirdParty: Instructions to connect to a third-party repository</a>
<ul class="sectlevel3">
<li><a href="#openpgp-certificate-distribution">3.1.1. OpenPGP certificate distribution</a></li>
<li><a href="#sources-list-entry">3.1.2. Sources.list entry</a></li>
<li><a href="#how-to-find-and-add-a-key">3.1.3. How to find and add a key</a></li>
<li><a href="#complete-example">3.1.4. Complete example</a></li>
<li><a href="#troubleshooting">3.1.5. Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#references">References</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="gnu-privacy-guard">1. GNU Privacy Guard</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>GNU Privacy Guard</strong> (<strong>GnuPG</strong> or <strong>GPG</strong>) is a free-software replacement for Symantec&#8217;s PGP cryptographic software suite. The software is compliant with RFC 4880, the IETF standards-track specification of OpenPGP. Modern versions of PGP are interoperable with GnuPG and other OpenPGP-compliant systems.</p>
</div>
<div class="paragraph">
<p>GnuPG is part of the <a href="https://en.wikipedia.org/wiki/GNU_Project">GNU Project</a> and received major funding from the German government in 1999.</p>
</div>
<div class="paragraph">
<p>GnuPG is a <a href="https://en.wikipedia.org/wiki/Hybrid_cryptosystem">hybrid-encryption</a> software program because it uses a combination of conventional <a href="https://en.wikipedia.org/wiki/Symmetric-key_algorithm">symmetric-key cryptography</a> for speed, and <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">public-key cryptography</a> for ease of secure key exchange, typically by using the recipient&#8217;s public key to encrypt a <a href="https://en.wikipedia.org/wiki/Session_key">session key</a> which is used only once.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><em>From Wikipedia, the free encyclopedia</em> <a href="#sessionkey">[sessionkey]</a></p>
</div>
<div class="paragraph">
<p>A <strong>session key</strong> is a single-use symmetric key used for encrypting all messages in one communication session. A closely related term is content <strong>encryption key</strong> (CEK), <strong>traffic encryption key</strong> (TEK), or <strong>multicast key</strong> which refers to any key used for encrypting messages.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>GnuPG encrypts messages using asymmetric key pairs individually generated by GnuPG users. The resulting public keys may be exchanged with other users in a variety of ways, such as Internet <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)">key servers</a>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><em>From Wikipedia, the free encyclopedia</em> <a href="#keyserver">[keyserver]</a></p>
</div>
<div class="paragraph">
<p>In computer security, a key server is a computer that receives and then serves existing cryptographic keys to users or other programs. The users' programs can be running on the same network as the key server or on another networked computer.</p>
</div>
<div class="paragraph">
<p>The keys distributed by the key server are almost always provided as part of a cryptographically protected public key certificates containing not only the key but also 'entity' information about the owner of the key. The certificate is usually in a standard format, such as the OpenPGP public key format, the X.509 certificate format, or the PKCS format. Further, the key is almost always a public key for use with an asymmetric key encryption algorithm.</p>
</div>
<div class="paragraph">
<p>Key servers play an important role in public key cryptography. In public key cryptography an individual is able to generate a key pair, where one of the keys is kept private while the other is distributed publicly. Knowledge of the public key does not compromise the security of public key cryptography. An individual holding the public key of a key pair can use that key to carry out cryptographic operations that allow secret communications with strong authentication of the holder of the matching private key. The need to have the public key of a key pair in order to start communication or verify signatures is a bootstrapping problem. Locating keys on the web or writing to the individual asking them to transmit their public keys can be time consuming and unsecure. Key servers act as central repositories to alleviate the need to individually transmit public keys and can act as the root of a <a href="https://en.wikipedia.org/wiki/Chain_of_trust">chain of trust</a>.</p>
</div>
<div class="paragraph">
<p>These are some keyservers that are often used for looking up keys with <code>gpg --recv-keys</code>. These can be queried via <code>https://</code> (HTTPS) or <code>hkps://</code> (HKP over TLS) respectively.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>keys.openpgp.org</p>
</li>
<li>
<p>keys.mailvelope.com/manage.html</p>
</li>
<li>
<p>pgp.mit.edu</p>
</li>
<li>
<p>keyring.debian.org</p>
</li>
<li>
<p>keyserver.ubuntu.com</p>
</li>
<li>
<p>pgp.surf.nl</p>
</li>
</ul>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hands-on-guide-on-gpg-keys">2. Hands-on Guide on GPG Keys</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To generate a key pair, first make sure you can run the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--version</span>
<span class="go">gpg (GnuPG) 2.2.27
libgcrypt 1.8.8
Copyright (C) 2021 Free Software Foundation, Inc.
</span><span class="gp">License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;</span><span class="w">
</span><span class="go">This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: /home/x/.gnupg
Supported algorithms:
Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
        CAMELLIA128, CAMELLIA192, CAMELLIA256
Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
Compression: Uncompressed, ZIP, ZLIB, BZIP2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If not, then you need to install it, the package is <code>gnupg</code> (for gpg) or <code>gnupg2</code> (for gpg2).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get update
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>gnupg2</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="generate-a-key-pair">2.1. Generate a Key Pair</h3>
<div class="paragraph">
<p>Simply run the following command and answer the prompt questions to generate a new key pair.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--full-gen-key</span>
<span class="gp">gpg (GnuPG) 2.2.27;</span><span class="w"> </span>Copyright <span class="o">(</span>C<span class="o">)</span> 2021 Free Software Foundation, Inc.
<span class="go">This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
  (14) Existing key from card
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (3072) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
</span><span class="gp">      &lt;n&gt;</span><span class="w">  </span><span class="o">=</span> key expires <span class="k">in </span>n days
<span class="gp">      &lt;n&gt;</span>w <span class="o">=</span> key expires <span class="k">in </span>n weeks
<span class="gp">      &lt;n&gt;</span>m <span class="o">=</span> key expires <span class="k">in </span>n months
<span class="gp">      &lt;n&gt;</span>y <span class="o">=</span> key expires <span class="k">in </span>n years
<span class="go">Key is valid for? (0) 3y
Key expires at Fri 20 Mar 2026 10:58:15 AM CST
Is this correct? (y/N) y

GnuPG needs to construct a user ID to identify your key.

Real name: Your Name
Email address: your.name@example.com
Comment:
You selected this USER-ID:
</span><span class="gp">    "Your Name &lt;your.name@example.com&gt;</span><span class="s2">"
</span><span class="go">
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
</span><span class="gp">disks) during the prime generation;</span><span class="w"> </span>this gives the random number
<span class="go">generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
</span><span class="gp">disks) during the prime generation;</span><span class="w"> </span>this gives the random number
<span class="go">generator a better chance to gain enough entropy.
gpg: key E3347ECE4ECCD835 marked as ultimately trusted
gpg: revocation certificate stored as '/home/x/.gnupg/openpgp-revocs.d/BF743CF56A6EF9A4B0F94ACCE3347ECE4ECCD835.rev'
public and secret key created and signed.

pub   rsa4096 2023-03-21 [SC] [expires: 2026-03-20]
      BF743CF56A6EF9A4B0F94ACCE3347ECE4ECCD835
</span><span class="gp">uid                      Your Name &lt;your.name@example.com&gt;</span><span class="w">
</span><span class="go">sub   rsa4096 2023-03-21 [E] [expires: 2026-03-20]</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generate-an-authentication-subkey">2.2. Generate an Authentication Subkey</h3>
<div class="paragraph">
<p>An authentication subkey is used if you want to use your GPG key for SSH authentication. To generate this, just follow these steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--expert</span> <span class="nt">--edit-key</span> BF743CF56A6EF9A4B0F94ACCE3347ECE4ECCD835
<span class="gp">gpg (GnuPG) 2.2.27;</span><span class="w"> </span>Copyright <span class="o">(</span>C<span class="o">)</span> 2021 Free Software Foundation, Inc.
<span class="go">This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

sec  rsa4096/E3347ECE4ECCD835
     created: 2023-03-21  expires: 2026-03-20  usage: SC
     trust: ultimate      validity: ultimate
ssb  rsa4096/DFAFCFC264DE8767
     created: 2023-03-21  expires: 2026-03-20  usage: E
</span><span class="gp">[ultimate] (1). Your Name &lt;your.name@example.com&gt;</span><span class="w">
</span><span class="go">
</span><span class="gp">gpg&gt;</span><span class="w"> </span>addkey
<span class="go">Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
  (10) ECC (sign only)
  (11) ECC (set your own capabilities)
  (12) ECC (encrypt only)
  (13) Existing key
  (14) Existing key from card
Your selection? 8

Possible actions for a RSA key: Sign Encrypt Authenticate
Current allowed actions: Sign Encrypt

   (S) Toggle the sign capability
   (E) Toggle the encrypt capability
   (A) Toggle the authenticate capability
   (Q) Finished

Your selection? S

Possible actions for a RSA key: Sign Encrypt Authenticate
Current allowed actions: Encrypt

   (S) Toggle the sign capability
   (E) Toggle the encrypt capability
   (A) Toggle the authenticate capability
   (Q) Finished

Your selection? E

Possible actions for a RSA key: Sign Encrypt Authenticate
Current allowed actions:

   (S) Toggle the sign capability
   (E) Toggle the encrypt capability
   (A) Toggle the authenticate capability
   (Q) Finished

Your selection? A

Possible actions for a RSA key: Sign Encrypt Authenticate
Current allowed actions: Authenticate

   (S) Toggle the sign capability
   (E) Toggle the encrypt capability
   (A) Toggle the authenticate capability
   (Q) Finished

Your selection? Q
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (3072) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
</span><span class="gp">      &lt;n&gt;</span><span class="w">  </span><span class="o">=</span> key expires <span class="k">in </span>n days
<span class="gp">      &lt;n&gt;</span>w <span class="o">=</span> key expires <span class="k">in </span>n weeks
<span class="gp">      &lt;n&gt;</span>m <span class="o">=</span> key expires <span class="k">in </span>n months
<span class="gp">      &lt;n&gt;</span>y <span class="o">=</span> key expires <span class="k">in </span>n years
<span class="go">Key is valid for? (0) 2y
Key expires at Thu 20 Mar 2025 12:01:37 PM CST
Is this correct? (y/N) y
Really create? (y/N) y
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
</span><span class="gp">disks) during the prime generation;</span><span class="w"> </span>this gives the random number
<span class="go">generator a better chance to gain enough entropy.

sec  rsa4096/E3347ECE4ECCD835
     created: 2023-03-21  expires: 2026-03-20  usage: SC
     trust: ultimate      validity: ultimate
ssb  rsa4096/DFAFCFC264DE8767
     created: 2023-03-21  expires: 2026-03-20  usage: E
ssb  rsa4096/EF4D2528DEB8EB02
     created: 2023-03-21  expires: 2025-03-20  usage: A
</span><span class="gp">[ultimate] (1). Your Name &lt;your.name@example.com&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-keys">2.3. List Keys</h3>
<div class="paragraph">
<p>To list all the public GPG keys. Give the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--list-keys</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To obtain the key id in LONG (complete) format, use this flag &#8220;--keyid-format LONG&#8221;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--list-keys</span> <span class="nt">--keyid-format</span> LONG</code></pre>
</div>
</div>
<div class="paragraph">
<p>To list all the private GPG keys.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--list-secret-keys</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All these commands give you the following information about your GPG keys and subkeys.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Which algorithm your keys use, e.i <code>rsa</code>.</p>
</li>
<li>
<p>Key size, e.i <code>4096</code> bits.</p>
</li>
<li>
<p>Key IDs, e.i <code>123AB456</code> (this is the short key id of 8-bytes, in the long format you get the complete key id of 16-bytes).</p>
</li>
<li>
<p>Date of creation.</p>
</li>
<li>
<p>Their usage e.i</p>
<div class="paragraph">
<p>&#8216;E&#8217;=encryption, &#8216;S&#8217;=signing, &#8216;C&#8217;=certification, &#8216;A&#8217;=authentication.</p>
</div>
</li>
<li>
<p>Their expiry date.</p>
</li>
<li>
<p>Their trust level, e.i <code>Ultimate</code>, <code>unknown</code>, etc.</p>
</li>
<li>
<p>Name and Email associated with them that&#8217;s also known as <code>UID</code> "User ID".</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="exporting-keys">2.4. Exporting Keys</h3>
<div class="paragraph">
<p>Exporting means, to bring out the keys from GPG database so that we may see or store them in files.</p>
</div>
<div class="paragraph">
<p>If you want to see your GPG key in ASCII characters, then you need to export it to a file by the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--output</span> public.key <span class="nt">--armor</span> <span class="nt">--export</span> your.email@example.com</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--output</code>: specifies the output file.</p>
</li>
<li>
<p><code>--export</code>: to instruct GPG to export your public key.</p>
</li>
<li>
<p><code>--armor</code>: to export in ASCII characters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similarly, to export a private key directly on the terminal just change one flag.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--armor</span> <span class="nt">--export-secret-keys</span> your.email@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will ask for your passphrase. Here you may also add the <code>--output</code> flag to put its output in a file as done in the previous command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Never give/share your private key anywhere. Keep it as secure as you can. The private key is required to decrypt the data encrypted just for you. So, compromising this key may result in security issues whose severity depends on the data you deal with.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="fingerprints">2.5. Fingerprints</h3>
<div class="paragraph">
<p>A key can be verified by a number of ways. One such way is to use its fingerprint. The fingerprint is a shorter number (usually expressed as a 40-hexadecimal-digit number) that contains a cryptographically strong hash of the public key.</p>
</div>
<div class="paragraph">
<p>To see the fingerprint of any GPG key associated with an email. Use this command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--fingerprint</span> email@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can cross check this fingerprint with the person to verify if it is trustworthy.</p>
</div>
</div>
<div class="sect2">
<h3 id="generating-a-revocation-certificate">2.6. Generating a Revocation Certificate</h3>
<div class="paragraph">
<p>It is vital to have revocation certificate to declare your keys invalid in case your private key has been compromised or lost. It should be generated as soon as you generate your key pair, not when you need it. So, let&#8217;s generate it with the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--output</span> ~/revocation.crt <span class="nt">--gen-revoke</span> your.email@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to save this file from unauthorized access, you may immediately put restrictions (if not present by default).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">chmod </span>600 ~/revocation.crt</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case you want to revoke your key, then you would have to upload this revocation certificate to a public keyserver (assuming that you have already sent your public key to a keyserver.)</p>
</div>
</div>
<div class="sect2">
<h3 id="sending-and-importing-keys">2.7. Sending and Importing Keys</h3>
<div class="paragraph">
<p><strong>Sending</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Why are you using GPG keys in the first place?</p>
<div class="paragraph">
<p>Because with GPG you can sign messages or other people can encrypt messages to you.</p>
</div>
<div class="paragraph">
<p>Therefore, to make your key publicly available might be of great help. So that, anyone can take your public key to encrypt messages to you. For this, we can send our public key to a keyserver.</p>
</div>
</li>
<li>
<p>Would it be safe to upload your public key on keyservers?</p>
<div class="paragraph">
<p>Absolutely yes, as I have already mentioned before that GPG works on <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">asymmetric cryptography</a>, therefore having your public key to someone doesn&#8217;t make a threat to your security. Because it is practically impossible to generate a private key from a public key.</p>
</div>
<div class="paragraph">
<p>There are multiple keyservers available to hold public keys like, <code>keys.fedoraproject.org</code>, <code>keyserver.ubuntu.com</code>, etc. and they regularly synchronize among themselves. So if you send your key on <code>keyserver.ubuntu.com</code>, then after some time, it would also be available at <code>keys.fedoraproject.org.</code></p>
</div>
<div class="paragraph">
<p>To send your key to the keyserver use the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--send-keys</span> <span class="nt">--keyserver</span> keyserver_url key_id</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t want to upload your key to a keyserver (in case your communication is limited to a group of people) then you can also send your public key to them through email.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Importing</strong>:</p>
</div>
<div class="paragraph">
<p>Importing means to include the key in your GPG database, so that you may use them in future. For example, if you wanna send your friends an encrypted message, which can be done with their public keys. Therefore, first, you would need to import their keys into your GPG system and then only you may use them for encryption.</p>
</div>
<div class="paragraph">
<p>You can import the key of someone from a file, with the following command. For this, you must have their public key in a file say "<em>their_gpg.key</em>".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--import</span> their_gpg.key</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now when you would list-keys with &#8220;gpg --list-keys&#8221;, this imported key will also be listed.</p>
</div>
<div class="paragraph">
<p>But if the person&#8217;s key is available at a keyserver, then you can also directly pull their keys from there. Because keyservers distribute public keys to anyone who requests them. Once you have sent your key to a keyserver, others can request your key using the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--keyserver</span> keyserver_url <span class="nt">--recv-keys</span> key_id</code></pre>
</div>
</div>
<div class="paragraph">
<p>To refresh all your keys from a keyserver, to obtain new signatures, new UIDs and new key revocations, use this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--refresh-keys</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And to pull from specific servers, use this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--keyserver</span> keyserver_url <span class="nt">--refresh-keys</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You should do this regularly. But you may receive error messages if any of your keys cannot be found on the key server.</p>
</div>
</div>
<div class="sect2">
<h3 id="signing-keys">2.8. Signing Keys</h3>
<div class="paragraph">
<p>A major benefit of GPG is that you can sign a file to prove that it is genuinely coming form you. Because signs are created using private keys and only the person who owns the GPG keys, have its private key (if not compromised or lost).</p>
</div>
<div class="paragraph">
<p>Your key is already signed by you when it was created. That you may verify with.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--list-sig</span> your.email@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the output, the line after &#8220;sig&#8221; shows the <code>UID</code> of those people who have signed your key.</p>
</div>
<div class="paragraph">
<p>You can also sign keys of other people (assuming that you have already imported the key of that person). Signing a key means you verify that you trust the person, who they claim to be. If you sign a person&#8217;s key then sending the signed key back to him/her is a good idea, otherwise, they won&#8217;t be able to take advantage of your sign. For this, you have 2 methods.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Method 1:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--sign-key</span> person.email@example.com
<span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--output</span> ~/signed.key <span class="nt">--sign-key</span> person.email@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can send this &#8220;signed.key&#8221; file to the person via mail.</p>
</div>
<div class="paragraph">
<p>Once that person receives your signed key, then s//he can update their own GPG database to include your signature.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--import</span> signed.key</code></pre>
</div>
</div>
</li>
<li>
<p>Method 2:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--sign-key</span> person.email@example.com
<span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--keyserver</span> key_server <span class="nt">--send-key</span> person_keyid</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will directly upload your sign to the keyserver (assuming that the person has sent his key to a keyserver). So when next time that person would refresh his/her GPG database, your sign would be included.</p>
</div>
</li>
</ul>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><em>Why should you sign a person&#8217;s key?</em></p>
</div>
<div class="paragraph">
<p>Because this can help other people decide whether to trust that person too or not. If someone trusts you, and they see that you&#8217;ve signed this person&#8217;s key, they may be more likely to trust their identity too. There is a concept behind signing a key known as <a href="https://en.wikipedia.org/wiki/Web_of_trust">Web of Trust</a>.</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="openpgp-integration-in-apt">3. OpenPGP integration in APT</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="man">$ apt-key list
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
/etc/apt/trusted.gpg
...</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="debianrepositoryusethirdparty-instructions-to-connect-to-a-third-party-repository">3.1. DebianRepositoryUseThirdParty: Instructions to connect to a third-party repository</h3>
<div class="paragraph">
<p>There are many different ways of configuring an unofficial APT repository on a machine. This document aims to standardize the procedure to add such a third-party repository to a Debian-based system so that the new repository can only ship a set of expected packages, and so that those packages will be securely delivered to the system. <a href="#usethirdparty">[usethirdparty]</a></p>
</div>
<div class="sect3">
<h4 id="openpgp-certificate-distribution">3.1.1. OpenPGP certificate distribution</h4>
<div class="paragraph">
<p>Repositories MUST be signed with an OpenPGP certificate. A binary export (<code>gpg --export</code>) of the certificate SHOULD be available at the root of the repository under the filename <em>deriv-archive-keyring.pgp</em>, where <em>deriv</em> is the a short name for the repository. The file SHOULD NOT be ASCII-Armored (<code>gpg --export --armor</code>) although a separate armored version MAY be available under <em>deriv-archive-keyring.asc</em>.</p>
</div>
<div class="paragraph">
<p>The certificate SHOULD be served over HTTPS if possible. A free X509 certificate MAY be obtained from <a href="https://letsencrypt.org/">Let&#8217;s Encrypt</a> and automatically configured using the certbot package.</p>
</div>
<div class="paragraph">
<p>The certificate MAY also be made available on key servers. If so, operators SHOULD choose an appropriate keyserver or keyserver pool, such as <code>keys.openpgp.org</code> or <code>keyserver.ubuntu.com</code>, or implement a OpenPGP Web Key Directory. It should be noted that the previously recommended ad-hoc standard pool, <code>sks-keyservers.net</code> is out of service permanently. This certificate SHOULD be signed by other keys, preferably including some that are close to the strong set, in order to leverage the OpenPGP web of trust. The certificate MUST be downloaded over a secure mechanism like HTTPS to a location only writable by root. The certificate MUST NOT be placed in <code>/etc/apt/trusted.gpg.d</code> or loaded by <code>apt-key add</code>.</p>
</div>
<div class="paragraph">
<p>If future updates to the certificate will be managed by an apt/dpkg package as recommended below, then it SHOULD be downloaded into <code>/usr/share/keyrings</code> using the same filename that will be provided by the package. If it will be managed locally , it SHOULD be downloaded into <code>/etc/apt/keyrings</code> instead.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In releases older than Debian 12 and Ubuntu 22.04, <code>/etc/apt/keyrings</code> does not exist by default. It SHOULD be created with permissions <code>0755</code> if it is needed and does not already exist.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, users MAY be told to run a command to download the certificate, but because chances are the certificate being distributed is ASCII-Armored, it is best to unconditionally dearmor them. With Sequoia-PGP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">curl https://deriv.example.net/debian/deriv-archive-keyring.pgp | <span class="se">\</span>
  sq <span class="nt">-o</span> /usr/share/keyrings/deriv-archive-keyring.pgp dearmor</code></pre>
</div>
</div>
<div class="paragraph">
<p>or with GnuPG:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">curl https://deriv.example.net/debian/deriv-archive-keyring.pgp | <span class="se">\</span>
  gpg <span class="nt">-o</span> /usr/share/keyrings/deriv-archive-keyring.pgp <span class="nt">--dearmor</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The reason why we avoid ASCII-Armored files is that they can only be used by SecureApt in version 1.4 or later (which appeared in stretch). We also strongly recommend the use of HTTPS as it bypasses certain MITM attacks that would allow a hostile third party to inject OpenPGP certificate material in the repository setup.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="sources-list-entry">3.1.2. Sources.list entry</h4>
<div class="paragraph">
<p>A <code>sources.list</code> entry SHOULD have the <code>signed-by</code> option set. The <code>signed-by</code> entry MUST point to a file, and not a fingerprint.</p>
</div>
<div class="paragraph">
<p>The <code>suite</code> entry SHOULD correspond to the target Debian release if the binaries are built for a specific suite. In other cases, the <code>suite</code> SHOULD be the string "stable", or it MAY be a repository-specific string describing the suite concisely. If the <code>suite</code> does not correspond to a target Debian release, the <code>suite</code> naming convention MUST be clearly documented.</p>
</div>
<div class="paragraph">
<p>If the repository has no reason to be split into multiple components, then the <code>component</code> name SHOULD be <code>main</code>. If there is a reason for splitting the repo into multiple components, the reason for the split should be clearly documented (e.g. <a href="https://www.debian.org/doc/debian-policy/ch-archive#s-sections">Debian&#8217;s documented split</a>) and the <code>component</code> names should concisely reflect that split.</p>
</div>
<div class="paragraph">
<p>Entries MUST be added in the <code>/etc/apt/sources.list.d</code> directory using a shortened repository name (e.g. <code>deriv.list</code>). The "Deb822" file format MAY be used instead to improve clarity for complex entries (e.g. <code>deriv.sources</code>). (See sources.list(5))</p>
</div>
<div class="paragraph">
<p>For example, this would be the content of the <code>/etc/apt/sources.list.d/deriv.list</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">deb [signed-by=/usr/share/keyrings/deriv-archive-keyring.pgp] https://deriv.example.net/debian/ stable main</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above is a <code>sources.list</code> line for a fictitious Deriv Debian derivative. The <code>suite</code> is <code>stable</code> and the <code>component</code> is the standard <code>main</code> component.</p>
</div>
<div class="paragraph">
<p>This is equivalent to the following Deb822 file format, under deriv.sources:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">Types: deb
URIs: https://deriv.example.net/debian/
Suites: stable
Components: main
Signed-By: /usr/share/keyrings/deriv-archive-keyring.pgp</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The reason we point to a file instead of a fingerprint is that the latter forces the user to add the certificate to the global <a href="https://wiki.debian.org/SecureApt">SecureApt</a> trust anchor in <code>/etc/apt/trusted.gpg.d</code>, which would cause the system to accept signatures from the third-party keyholder on all other repositories configured on the system that don&#8217;t have a <code>signed-by</code> option (including the official Debian repositories).
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Serving the repository under HTTPS is OPTIONAL, as it may make running a round-robin network of untrusted mirrors more difficult, and the trust chain provided by SecureApt should suffice.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="how-to-find-and-add-a-key">3.1.3. How to find and add a key</h4>
<div class="paragraph">
<p>The debian-archive-keyring package is used to distribute keys to apt. Upgrades to this package can add (or remove) OpenPGP keys for the main Debian archive. <a href="#secureapt">[secureapt]</a></p>
</div>
<div class="paragraph">
<p>For other archives, there is not yet a standard location where you can find the key for a given apt repository. There&#8217;s a rough standard of putting the key up on the web page for the repository or as a file in the repository itself, but no real standard, so you might have to hunt for it.</p>
</div>
<div class="paragraph">
<p>The current and the retired Debian archive "signing" keys are available from <a href="https://ftp-master.debian.org/keys.html" class="bare">https://ftp-master.debian.org/keys.html</a>.</p>
</div>
<div class="paragraph">
<p>The OpenPGP ecosystem has a standard way to distribute keys, using a keyserver that OpenPGP implementation can use to download a key from and add it to a keyring. For example with Sequoia-PGP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">user@host:~&gt;</span><span class="w"> </span>sq keyserver get <span class="nt">--binary</span> <span class="nt">--output</span> debian-archive-bullseye-stable.pgp <span class="s1">'A428 5295 FC7B 1A81 6000  62A9 605C 66F0 0D6C 9793'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or with GnuPG:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">user@host:~&gt;</span><span class="w"> </span>gpg <span class="nt">--keyserver</span> hkps://keyserver.ubuntu.com <span class="nt">--recv-keys</span> <span class="s1">'A428 5295 FC7B 1A81 6000  62A9 605C 66F0 0D6C 9793'</span>
<span class="gp">gpg: key 605C66F00D6C9793: public key "Debian Stable Release Key (11/bullseye) &lt;debian-release@lists.debian.org&gt;</span><span class="s2">" imported
</span><span class="go">gpg: Total number processed: 1
gpg:               imported: 1
</span><span class="gp">user@host:~&gt;</span><span class="w"> </span>gpg <span class="nt">--output</span> debian-archive-bullseye-stable.pgp <span class="nt">--export</span> <span class="s1">'A428 5295 FC7B 1A81 6000  62A9 605C 66F0 0D6C 9793'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To install the keyring simply copy it to the apt trusted.gpg.d directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">user@host:~&gt;</span><span class="w"> </span><span class="nb">sudo cp</span> <span class="nt">-i</span> debian-archive-bullseye-stable.pgp /etc/apt/trusted.gpg.d/</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="complete-example">3.1.4. Complete example</h4>
<div class="paragraph">
<p>This example may serve as a template for instructions provided at the root of the archive to help users configure the APT repository.</p>
</div>
<div class="paragraph">
<p>This is a Debian repository. To install packages from this repository, you should first download a trust anchor into your system using this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">wget <span class="nt">-O</span> /usr/share/keyrings/deriv-archive-keyring.pgp https://deriv.example.net/debian/deriv-archive-keyring.pgp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can add the repository to your sources.list by creating a text file in <code>/etc/apt/sources.list.d/deriv.sources</code> containing the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">Types: deb deb-src
URIs: https://deriv.example.net/debian/
Suites: stable
Architectures: i386 amd64
Components: main
Signed-By: /usr/share/keyrings/deriv-archive-keyring.pgp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, you should also add the following preferences file to restrict what this repository can install, by creating the following file in <code>/etc/apt/preferences.d/deriv.pref</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">Package: <span class="k">*</span>
Pin: origin deriv.example.net
Pin-Priority: 100</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once this is done, you can run <code>apt-get update</code> for the changes to take effect and use <code>apt-get install deriv-archive-keyring</code> to make sure updates to the keyring are received in a timely manner.</p>
</div>
</div>
<div class="sect3">
<h4 id="troubleshooting">3.1.5. Troubleshooting</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get update
<span class="go">Hit:1 https://mirrors.ustc.edu.cn/debian bullseye InRelease
Hit:2 https://mirrors.ustc.edu.cn/debian bullseye-updates InRelease
Hit:3 https://mirrors.ustc.edu.cn/debian-security bullseye-security InRelease
Hit:4 https://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease
Hit:5 https://download.docker.com/linux/debian bullseye InRelease
Hit:6 https://packages.microsoft.com/debian/11/prod bullseye InRelease
Err:6 https://packages.microsoft.com/debian/11/prod bullseye InRelease
  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY EB3E94ADBE1229CF
Reading package lists... Done
W: An error occurred during the signature verification. The repository is not updated and the previous index files will be used. GPG error: https://packages.microsoft.com/debian/11/prod bullseye InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY EB3E94ADBE1229CF
W: Failed to fetch https://packages.microsoft.com/debian/11/prod/dists/bullseye/InRelease  The following signatures couldn't be verified because the public key is not available: NO_PUBKEY EB3E94ADBE1229CF
W: Some index files failed to download. They have been ignored, or old ones used instead.</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--keyserver</span> hkps://keyserver.ubuntu.com <span class="nt">--recv-keys</span> EB3E94ADBE1229CF
<span class="gp">gpg: key EB3E94ADBE1229CF: public key "Microsoft (Release signing) &lt;gpgsecurity@microsoft.com&gt;</span><span class="s2">" imported
</span><span class="go">gpg: Total number processed: 1
gpg:               imported: 1
</span><span class="gp">$</span><span class="w"> </span>gpg <span class="nt">--output</span> microsoft-prod.gpg <span class="nt">--export</span> EB3E94ADBE1229CF
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo chown </span>root.root microsoft-prod.gpg
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo mv </span>microsoft-prod.gpg /etc/apt/trusted.gpg.d/
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt-get update
<span class="go">Hit:1 https://download.docker.com/linux/debian bullseye InRelease
Hit:2 https://packages.microsoft.com/debian/11/prod bullseye InRelease
Hit:3 https://mirrors.ustc.edu.cn/debian bullseye InRelease
Hit:4 https://mirrors.ustc.edu.cn/debian bullseye-updates InRelease
Hit:5 https://mirrors.ustc.edu.cn/debian-security bullseye-security InRelease
Hit:6 https://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease
Reading package lists... Done</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references">References</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="opengpg"></a>[opengpg] <a href="https://www.openpgp.org/about/" class="bare">https://www.openpgp.org/about/</a></p>
</li>
<li>
<p><a id="sessionkey"></a>[sessionkey] <a href="https://en.wikipedia.org/wiki/Session_key" class="bare">https://en.wikipedia.org/wiki/Session_key</a></p>
</li>
<li>
<p><a id="keyserver"></a>[keyserver] <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic" class="bare">https://en.wikipedia.org/wiki/Key_server_(cryptographic</a>)</p>
</li>
<li>
<p><a id="handsongpg"></a>[handsongpg] <a href="https://www.thegeekyway.com/hands-on-guide-on-gpg-keys/" class="bare">https://www.thegeekyway.com/hands-on-guide-on-gpg-keys/</a></p>
</li>
<li>
<p><a id="usethirdparty"></a>[usethirdparty] <a href="https://wiki.debian.org/DebianRepository/UseThirdParty" class="bare">https://wiki.debian.org/DebianRepository/UseThirdParty</a></p>
</li>
<li>
<p><a id="secureapt"></a>[secureapt] <a href="https://wiki.debian.org/SecureApt" class="bare">https://wiki.debian.org/SecureApt</a></p>
</li>
</ul>
</div>
</div>
</div>
  </div>

  <ul class="post-navigation">
    <li>
      
      <a href="/2023/03/06/dhcp-options-in-vmware/">&laquo; DHCP Options in VMware</a>
      
    </li>
    <li>
      
      <a href="/2023/04/06/sql-server-database/">Intro to SQL Server Database &raquo;</a>
      
    </li>
  </ul>
</article>

      </div>
    </div>

    <footer class="site-footer">
  <div class="license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details open>
    <summary>Extral Links</summary>
    <div>
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>


<!-- https://github.com/bryanbraun/anchorjs -->
<script src="/js/anchor.min.js"></script>
<script>
  anchors.add();
  anchors.remove(".site-title");
</script>




  </body>

</html>

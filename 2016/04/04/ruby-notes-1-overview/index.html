<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bing WebMaster -->
  <meta name="msvalidate.01" content="AB2FFF876C37F59D9121882CC8395DE5" />

  <title>Ruby Notes 1 Overview</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://blog.codefarm.me/2016/04/04/ruby-notes-1-overview/">
  <link rel="alternate" type="application/rss+xml" title="CODE FARM" href="https://blog.codefarm.me/feed.xml">

  <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->
<script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>

  
<!-- Google Analytics Website tracking -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83971182-1', 'auto');
  ga('send', 'pageview');

</script>


  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SN88FJ18E5');
</script>



</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <h2 class="site-title">
      <a class="site-title" href="/">CODE FARM</a>
    </h2>

     <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
        <div class="trigger">
            <ul>
                <li><a href="/">home</a>
                <li><a href="/category">category</a>
                <li><a href="/tag">tag</a>
                <li><a href="/archive">archive</a>
                <li><a href="/about">about</a>
                <li><a href="https://resume.github.io/?qqbuby" target="_blank">R&eacute;sum&eacute;</a>
            </ul>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Ruby Notes 1 Overview</h1>
    
    
    <p class="post-meta"><time datetime="2016-04-04T20:27:17+08:00" itemprop="datePublished">Apr 4, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <ol>
  <li>
    <p>Ruby Is Object-Oriented</p>

    <p>Every value is an object, even simple numeric literals and the values <strong>true</strong>, <strong>false</strong>, and <strong>nil</strong> (nil is Ruby’s null).</p>
  </li>
  <li>
    <p>Blocks and Iterators</p>

    <p>There are a special kind of method known as <em>iterator</em>, and they like loops. The code within curly braces—known as <em>blok</em>—is associated with the method invocation and serves as the body of the loop.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 3.times { print "Ruby! " }   # Prints "Ruby! Ruby! Ruby!"
 1.upto(9) {|x| print x }     # Prints "123456789"
</code></pre></div>    </div>
  </li>
  <li>
    <p>Expressions and Operators in Ruby</p>

    <p>Ruby’s syntax is expression—oriented.Control strutures such as <strong>if</strong> that would be called statements in other languages are actually expressions in Ruby.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> minimum = if x &lt; y then x else y end
</code></pre></div>    </div>

    <p>Although all “statements” in Ruby are actually expression, they do not all return meaningful values.</p>

    <p>Many of Ruby’s operators are implemented as methods, and classes can define (or redefine) these methods however they want.</p>
  </li>
  <li>
    <p>Methods</p>

    <p>Methods are defined with the <strong>def</strong> keyword. The return value of a method is the value of the last expression evaluated in its body:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> def square(x)   # Define a method named square with one parameter x
     x*x         # Return x squared
 end             # End of method
</code></pre></div>    </div>

    <p>In Ruby, parentheses of function and method invocations are usually optional and commonly omitted, especially when the method being invoked takes no arguments.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &gt; square 2
 =&gt; 4
 &gt; square(2)
 =&gt; 4
</code></pre></div>    </div>
  </li>
  <li>
    <p>Assignment</p>

    <p>The (<strong>nonoverridable</strong>) = operator in Ruby assigns a value to a variable:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> x = 1
 x += 1  # Increment x: note Ruby does not have ++.
 x -= 1  # Decrement x: no -- operator, either.
 a, b = b, a # Swap the value of two varibles
</code></pre></div>    </div>
  </li>
  <li>
    <p>Punctuation Suffixes and Prefixes</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">=</code></li>
    </ul>

    <p>Methods that end with an equals sign (=) are special because Ruby allows them to be invoked using assignment syntax.</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">?</code>
  A question mark (?) is used to mark predicates—methods that return a Boolean value.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">!</code></p>

        <p>An exclamation mark at the end of a method name is used to indicate that caution is required with the use of the method.</p>

        <p>Usually, the method without the exclamation mark returns a modified copy of the object it is invoked on, and the one with exclamation mark returns a mutator method that alerts the object in place.</p>
      </li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">$</code>, <code class="language-plaintext highlighter-rouge">@</code>, <code class="language-plaintext highlighter-rouge">@@</code></p>

        <p><em>global variable</em> are prefixed with $, instance variables are prefixed with @, and class varibles are prefixed with @@.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Regexp and Range</p>

    <p>A <strong>Regexp</strong> (regular expression) object describes a textual pattern.</p>

    <p>A <strong>Range</strong> represents the values (usually integers) between two endpoints.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> /[Rr]buy/       # Matches "Ruby" or "ruby"
 /\d{5}/         # Matches 5 consecutive digits
 1..3            # All x where 1 &lt;= x &lt;= 3
 1...3           # All x where 1 &lt;= x &lt; 3
</code></pre></div>    </div>

    <p>Regexp and Range objects define the normal <code class="language-plaintext highlighter-rouge">==</code> operator for testing equality. In addition they also define the <code class="language-plaintext highlighter-rouge">===</code> operator for testing matching and membership. Ruby’s case statement matches its expression agains each of the possible cases using <code class="language-plaintext highlighter-rouge">===</code>, so this operator is often called the <strong><em>case equality operator</em></strong>.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &gt; (0..2) === 1
 =&gt; true
 &gt; 1 === (0..2)
 =&gt; false
</code></pre></div>    </div>
  </li>
  <li>
    <p>Classes and Modules</p>

    <ul>
      <li>
        <p><code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">::</code>, <code class="language-plaintext highlighter-rouge">#</code></p>

        <p>Normally, you can separate a class or module name from a method name with a period <code class="language-plaintext highlighter-rouge">.</code>. If a class defines a class method and an instance method by the same name, you must instead use <code class="language-plaintext highlighter-rouge">::</code> to refer to the class method or <code class="language-plaintext highlighter-rouge">#</code> to refer to the instance method.</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ri Array
  ri Array.sort
  ri Hash#each
  ri Math::sqrt
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong><em>Class</em></strong></p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class Sequence
      include Enumerable
            
      def initialize(from, to, by)
          @from, @to, @by = from, to , by
      end
            
      def each
          x = @from
          while x &lt;= @to
              yield x # Pass x to the block associated with the iterator
              x += @by
          end
      end
  end
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong><em>Modules</em></strong></p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   module Sequences                        # Begin a new module
       def self.fromtoby(from, to, by)     # A singleton method of the module
           x = from
           while x &lt;= to
               yield x
               x += by
           end
       end
   end
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>Ruby Surprises</p>

    <ul>
      <li>
        <p>Ruby’s strings are mutable.</p>
      </li>
      <li>
        <p>Conditional expression often evaluate to <strong>true</strong> or <strong>false</strong>, but not required. The value of <code class="language-plaintext highlighter-rouge">nil</code> is treated the same as <code class="language-plaintext highlighter-rouge">false</code>, and <strong>any other value is the same as true</strong>.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>The Ruby Interpreter</p>

    <p><strong><em>MRI</em></strong>, <strong><em>JRuby</em></strong>, <strong><em>IronRuby</em></strong>, <strong><em>Rubinius</em></strong>, <strong><em>Cardinal</em></strong></p>
  </li>
  <li>
    <p>The Ruby Toolset</p>

    <ul>
      <li>
        <p>Interactive Ruby with <strong>irb</strong></p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  $ irb 
  irb(main):001:0&gt; puts 'Hello, Ruby'
  Hello, Ruby
  =&gt; nil
</code></pre></div>        </div>
      </li>
      <li>
        <p>Viewing Ruby Documentation with <strong>ri</strong></p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ri Array
  ri Array.sort
  ri Hash#each
  ri Math::sqrt
</code></pre></div>        </div>
      </li>
      <li>
        <p>Ruby Package Management with <strong>gem</strong></p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  gem list             # List installed gems
  gem enviroment       # Display RubyGems configuration information
  gem update rails     # Update a named gem
  gem update           # Update all installed gems
  gem update --system  # Update RubyGems itself
  gem uninstall rails  # Remove an installed gem
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>RVM</strong> is a command-line tool which allows you to easily install, manage, and work with multiple ruby environments from interpreters to sets of gems.</p>
      </li>
    </ul>

    <p><em>install</em></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3
 $ \curl -sSL https://get.rvm.io | bash -s stable
</code></pre></div>    </div>

    <p><em>修改 RVM 的 Ruby 安装源到 Ruby China 的 <a href="https://cache.ruby-china.org/">Ruby 镜像服务器</a>，这样能提高安装速度</em></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ echo "ruby_url=https://cache.ruby-china.org/pub/ruby" &gt; ~/.rvm/user/db
</code></pre></div>    </div>

    <p><em>commands</em></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> rvm -v          # RVM version rvm list known  # List Ruby interpreters available for installation rvm list        # List Ruby interpreters you've already installed

 rvm info     # Ruby information for the current shell

 rvm gemdir   # Switch to gems directory for current ruby
 rvm system   # Use the system ruby (as if no rvm)

 rvm install 2.1.1    # Install a version of Ruby (eg 2.1.1)
 rvm uninstall 2.0.0  # Unisntall RVM installed 2.0.0 version

 rvm gemset create rails4  # Greate a named gemset rails4
 rvm gemset use rails4     # Use the rails4 gemset

 rvm 2.1.1          # Use Ruby 2.1.1. Equivalently: rvm use 2.1.1
 rvm 2.1.1@rails4   # Use Ruby 2.1.1 and gemset rails4
</code></pre></div>    </div>

    <ul>
      <li>
        <p><strong>Bundler</strong> provides a consistent environment for Ruby projects by tracking and installing the exact gems and versions that are needed.</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  $ gem install bundler
  $ bundle install
</code></pre></div>        </div>

        <ul>
          <li>
            <p>Gemfile</p>

            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  # A sample Gemfile
  source "https://rubygems.org"

  # gem "rails"
</code></pre></div>            </div>
          </li>
          <li>
            <p>RubyGems</p>

            <ul>
              <li>https://rubygems.org</li>
              <li>
                <p>https://gems.ruby-china.org</p>

                <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  $ gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/
  $ gem sources -l
</code></pre></div>                </div>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Specifying Program Encoding</p>

    <p>By default, the Ruby interpreter assumes that program are encoded in ASCII.</p>

    <ul>
      <li>
        <p><strong>Encoding comments</strong></p>

        <ol>
          <li>
            <p><code class="language-plaintext highlighter-rouge"># coding: utf-8</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge"># -*- coding: utf-8 -*-</code></p>
          </li>
          <li>
            <p><code class="language-plaintext highlighter-rouge"># vi: set fileencoding=utf-8 :</code></p>
          </li>
        </ol>
      </li>
      <li>
        <p><strong>Source Encoding and Default External Encoding</strong></p>

        <ol>
          <li>
            <p>Source encoding are typically set with coding comments to tell the Ruby interpeter how to read characters in a script.</p>
          </li>
          <li>
            <p>The default external encoding is something that Ruby use by default when reading from files and streams. The default external encoding is global to the Ruby process and does not change from file to file.</p>
          </li>
        </ol>
      </li>
    </ul>
  </li>
  <li>
    <p>File Structure</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> #!/usr/bin/ruby -w          shebang comment
 # -*- coding: utf-8 -*-     coding comment
 require 'socket'            load networking library
    
 ...                         program code goes here
    
 __END__                     mark end of code program data goes here
 ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>Comments</p>

    <p>Comments in Ruby begin with a <code class="language-plaintext highlighter-rouge">#</code> character and continue to the end of the line.</p>

    <p>Ruby has <em>no</em> quivalent of the C-style <code class="language-plaintext highlighter-rouge">/*...*/</code> comment.</p>

    <ul>
      <li>
        <p><strong>Embedded documents</strong></p>

        <p>Ruby supports another style of multiline comment known as <strong><em>embedded doucment</em></strong> that an text that apears between <code class="language-plaintext highlighter-rouge">=begin</code> and <code class="language-plaintext highlighter-rouge">=end</code>.</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  =begin Someone needs to fix the broken code below!
      Any code here is commented out
  =end
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>Documentation comments</strong></p>

        <p>Ruby programs can include embedded API documentation as specially formatted (e.g. Markdown) comments that precede method, class, and module definitions.</p>
      </li>
    </ul>
  </li>
</ol>

<hr />

<h3 id="references">References</h3>

<ul>
  <li>
    <p><a href="http://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177/ref=sr_1_1?ie=UTF8&amp;qid=1459784613&amp;sr=8-1&amp;keywords=The+Ruby+Programming+Language">The Ruby Programming Language by David Flanagan and Yukihiro Matsumoto</a></p>
  </li>
  <li>
    <p><a href="https://rvm.io/">Ruby Version Manager (RVM)</a></p>
  </li>
  <li>
    <p><a href="http://bundler.io/">Bundler: The best way to manage a Ruby application’s gems</a></p>
  </li>
  <li>
    <p><a href="http://stackoverflow.com/questions/15586216/bundler-vs-rvm-vs-gems-vs-rubygems-vs-gemsets-vs-system-ruby">bundler vs RVM vs gems vs RubyGems vs gemsets vs system ruby</a></p>
  </li>
  <li>RVM 实用指南 - Ruby China, <a href="https://ruby-china.org/wiki/rvm-guide">https://ruby-china.org/wiki/rvm-guide</a></li>
  <li>RubyGems 镜像 - Ruby China, <a href="https://gems.ruby-china.org/">https://gems.ruby-china.org/</a></li>
  <li><a href="https://ruby.taobao.org/">RubyGems 镜像 - 淘宝网</a></li>
</ul>

  </div>

  <ul class="post-navigation">
    <li>
      
      <a href="/2016/04/03/anonymous-functions-and-closures/">&laquo; Anonymous functions and closures</a>
      
    </li>
    <li>
      
      <a href="/2016/04/05/ruby-notes-2-datatypes-and-objects/">Ruby Notes 2 Datatypes and Objects &raquo;</a>
      
    </li>
  </ul>
</article>

      </div>
    </div>

    <footer class="site-footer">
  <div class="license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details open>
    <summary>Extral Links</summary>
    <div>
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>


<!-- https://github.com/bryanbraun/anchorjs -->
<script src="/js/anchor.min.js"></script>
<script>
  anchors.add();
  anchors.remove(".site-title");
</script>




  </body>

</html>

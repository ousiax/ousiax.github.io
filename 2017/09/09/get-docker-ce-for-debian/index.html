<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bing WebMaster -->
  <meta name="msvalidate.01" content="AB2FFF876C37F59D9121882CC8395DE5" />

  <title>Get Docker CE for Debian</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://blog.codefarm.me/2017/09/09/get-docker-ce-for-debian/">
  <link rel="alternate" type="application/rss+xml" title="CODE FARM" href="https://blog.codefarm.me/feed.xml">

  <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->
<script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>

  
<!-- Google Analytics Website tracking -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83971182-1', 'auto');
  ga('send', 'pageview');

</script>


  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SN88FJ18E5');
</script>



</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <h2 class="site-title">
      <a class="site-title" href="/">CODE FARM</a>
    </h2>

     <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
        <div class="trigger">
            <ul>
                <li><a href="/">home</a>
                <li><a href="/category">category</a>
                <li><a href="/tag">tag</a>
                <li><a href="/archive">archive</a>
                <li><a href="/about">about</a>
                <li><a href="https://resume.github.io/?qqbuby" target="_blank">R&eacute;sum&eacute;</a>
            </ul>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Get Docker CE for Debian</h1>
    
    
    <p class="post-meta"><time datetime="2017-09-09T11:54:43+08:00" itemprop="datePublished">Sep 9, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <ul id="markdown-toc">
  <li><a href="#install-using-the-repository" id="markdown-toc-install-using-the-repository">Install using the repository</a>    <ul>
      <li><a href="#set-up-the-repository" id="markdown-toc-set-up-the-repository">Set up the repository</a></li>
      <li><a href="#install-docker-ce" id="markdown-toc-install-docker-ce">Install Docker CE</a></li>
      <li><a href="#uninstall-docker-ce" id="markdown-toc-uninstall-docker-ce">Uninstall Docker CE</a></li>
    </ul>
  </li>
  <li><a href="#post-installation-steps-for-linux" id="markdown-toc-post-installation-steps-for-linux">Post-installation steps for Linux</a>    <ul>
      <li><a href="#manage-docker-as-a-non-root-user" id="markdown-toc-manage-docker-as-a-non-root-user">Manage Docker as a non-root user</a></li>
      <li><a href="#configure-docker-to-start-on-boot" id="markdown-toc-configure-docker-to-start-on-boot">Configure Docker to start on boot</a></li>
      <li><a href="#installing-bash-command-completion-for-core-docker-commands" id="markdown-toc-installing-bash-command-completion-for-core-docker-commands">Installing Bash Command Completion for Core Docker Commands</a></li>
    </ul>
  </li>
  <li><a href="#install-docker-compose" id="markdown-toc-install-docker-compose">Install Docker Compose</a></li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ul>
<hr />

<h3 id="install-using-the-repository">Install using the repository</h3>

<p>Before you install Docker CE for the first time on a new host machine, you need to set up the Docker repository. Afterward, you can install and update Docker from the repository.</p>

<h4 id="set-up-the-repository">Set up the repository</h4>

<ol>
  <li>
    <p>Update the apt package index:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-get update
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install packages to allow apt to use a repository over HTTPS:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="se">\</span>
     apt-transport-https <span class="se">\</span>
     ca-certificates <span class="se">\</span>
     curl <span class="se">\</span>
     gnupg2 <span class="se">\</span>
     software-properties-common
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add Docker’s official GPG key:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl <span class="nt">-fsSL</span> https://download.docker.com/linux/debian/gpg | <span class="nb">sudo </span>apt-key add -
</code></pre></div>    </div>

    <p><em>Verify that the key ID is 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88.</em></p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-key fingerprint 0EBFCD88
 pub   rsa4096 2017-02-22 <span class="o">[</span>SCEA]
       9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
 uid           <span class="o">[</span> unknown] Docker Release <span class="o">(</span>CE deb<span class="o">)</span> &lt;docker@docker.com&gt;
 sub   rsa4096 2017-02-22 <span class="o">[</span>S]
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use the following command to set up the stable repository.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>add-apt-repository <span class="se">\</span>
    <span class="s2">"deb [arch=amd64] https://download.docker.com/linux/debian </span><span class="se">\</span><span class="s2">
    </span><span class="si">$(</span>lsb_release <span class="nt">-cs</span><span class="si">)</span><span class="s2"> </span><span class="se">\</span><span class="s2">
    stable"</span>
</code></pre></div>    </div>
  </li>
</ol>

<p><em>Note: The <code class="language-plaintext highlighter-rouge">lsb_release -cs</code> sub-command below returns the name of your Debian distribution, such as <code class="language-plaintext highlighter-rouge">stretch</code>.</em></p>

<h4 id="install-docker-ce">Install Docker CE</h4>

<ol>
  <li>
    <p>Update the <code class="language-plaintext highlighter-rouge">apt</code> package index.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-get update
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install the latest version of Docker CE, or go to the next step to install a specific version. Any existing installation of Docker is replaced.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>docker-ce
</code></pre></div>    </div>

    <p><em>If you have multiple Docker repositories enabled, installing or updating without specifying a version in the <code class="language-plaintext highlighter-rouge">apt-get install</code> or <code class="language-plaintext highlighter-rouge">apt-get update</code> command will always install the highest possible version, which may not be appropriate for your stability needs.</em></p>
  </li>
  <li>
    <p>On production systems, you should install a specific version of Docker CE instead of always using the latest. This output is truncated. List the available versions:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>apt-cache madison docker-ce
  docker-ce | 17.06.2~ce-0~debian | https://download.docker.com/linux/debian stretch/stable amd64 Packages
  docker-ce | 17.03.0~ce-0~debian-stretch | https://download.docker.com/linux/debian stretch/stable amd64 Packages
</code></pre></div>    </div>

    <p>The contents of the list depend upon which repositories are enabled. Choose a specific version to install. The second column is the version string. The third column is the repository name, which indicates which repository the package is from and by extension its stability level. To install a specific version, append the version string to the package name and separate them by an equals sign (=):</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>docker-ce<span class="o">=</span>&lt;VERSION_STRING&gt;
</code></pre></div>    </div>

    <p>The Docker daemon starts automatically.</p>
  </li>
</ol>

<h4 id="uninstall-docker-ce">Uninstall Docker CE</h4>

<ol>
  <li>
    <p>Uninstall the Docker CE package:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>apt-get purge docker-ce
</code></pre></div>    </div>
  </li>
  <li>
    <p>Images, containers, volumes, or customized configuration files on your host are not automatically removed. To delete all images, containers, and volumes:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo rm</span> <span class="nt">-rf</span> /var/lib/docker
</code></pre></div>    </div>

    <p>You must delete any edited configuration files manually.</p>
  </li>
</ol>

<h3 id="post-installation-steps-for-linux">Post-installation steps for Linux</h3>

<h4 id="manage-docker-as-a-non-root-user">Manage Docker as a non-root user</h4>

<p>The <code class="language-plaintext highlighter-rouge">docker</code> daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user <code class="language-plaintext highlighter-rouge">root</code> and other users can only access it using <code class="language-plaintext highlighter-rouge">sudo</code>. The <code class="language-plaintext highlighter-rouge">docker</code> daemon always runs as the <code class="language-plaintext highlighter-rouge">root</code> user.</p>

<p>If you don’t want to use <code class="language-plaintext highlighter-rouge">sudo</code> when you use the <code class="language-plaintext highlighter-rouge">docker</code> command, create a Unix group called <code class="language-plaintext highlighter-rouge">docker</code> and add users to it. When the <code class="language-plaintext highlighter-rouge">docker</code> daemon starts, it makes the ownership of the Unix socket read/writable by the <code class="language-plaintext highlighter-rouge">docker</code> group.</p>

<blockquote>
  <p>Warning: The <code class="language-plaintext highlighter-rouge">docker</code> group grants privileges equivalent to the <code class="language-plaintext highlighter-rouge">root</code> user. For details on how this impacts security in your system, see <a href="https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface">Docker Daemon Attack Surface</a>.</p>
</blockquote>

<h4 id="configure-docker-to-start-on-boot">Configure Docker to start on boot</h4>

<p><strong>systemd</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>docker
</code></pre></div></div>

<h4 id="installing-bash-command-completion-for-core-docker-commands">Installing Bash Command Completion for Core Docker Commands</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Make sure bash completion is installed. </span>
<span class="nv">$ </span>yum <span class="nb">install</span> <span class="nt">-y</span> bash-completion
<span class="c"># 2. Install docker completion.</span>
<span class="nv">$ </span><span class="nb">sudo </span>curl <span class="nt">-L</span> https://raw.githubusercontent.com/docker/docker-ce/master/components/cli/contrib/completion/bash/docker <span class="nt">-o</span> /etc/bash_completion.d/docker
<span class="c"># 3. Make docker completion to be available.</span>
<span class="nv">$ </span><span class="nb">sudo</span> <span class="nb">.</span> /etc/profile
</code></pre></div></div>

<h3 id="install-docker-compose">Install Docker Compose</h3>
<p>On Linux, you can download the Docker Compose binary from the <a href="https://github.com/docker/compose/releases">Compose repository release page on GitHub</a>. Follow the instructions from the link, which involve running the curl command in your terminal to download the binaries. These step by step instructions are also included below.</p>

<ol>
  <li>
    <p>Run this command to download Docker Compose, replacing <code class="language-plaintext highlighter-rouge">$dockerComposeVersion</code> with the specific version of Compose you want to use:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>curl <span class="nt">-L</span> https://github.com/docker/compose/releases/download/<span class="nv">$dockerComposeVersion</span>/docker-compose-<span class="sb">`</span><span class="nb">uname</span> <span class="nt">-s</span><span class="sb">`</span>-<span class="sb">`</span><span class="nb">uname</span> <span class="nt">-m</span><span class="sb">`</span> <span class="nt">-o</span> /usr/local/bin/docker-compose
</code></pre></div>    </div>

    <p>For example, to download Compose version 1.15.0, the command is:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>curl <span class="nt">-L</span> https://github.com/docker/compose/releases/download/1.15.0/docker-compose-<span class="sb">`</span><span class="nb">uname</span> <span class="nt">-s</span><span class="sb">`</span>-<span class="sb">`</span><span class="nb">uname</span> <span class="nt">-m</span><span class="sb">`</span> <span class="nt">-o</span> /usr/local/bin/docker-compose
</code></pre></div>    </div>

    <blockquote>
      <p>Use the latest Compose release number in the download command.</p>
    </blockquote>
  </li>
  <li>
    <p>Apply executable permissions to the binary:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo chmod</span> +x /usr/local/bin/docker-compose
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install command completion for the <code class="language-plaintext highlighter-rouge">bash</code> shell</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>curl <span class="nt">-L</span> https://raw.githubusercontent.com/docker/compose/1.15.0/contrib/completion/bash/docker-compose <span class="nt">-o</span> /etc/bash_completion.d/docker-compose
</code></pre></div>    </div>
  </li>
  <li>
    <p>Uninstallation</p>

    <p>To uninstall Docker Compose if you installed using <code class="language-plaintext highlighter-rouge">curl</code>:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo rm</span> /usr/local/bin/docker-compose
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="references">References</h3>

<ol>
  <li><a href="https://docs.docker.com/engine/installation/linux/docker-ce/debian/">Get Docker CE for Debian | Docker Documentation</a></li>
  <li><a href="https://docs.docker.com/compose/install/">Install Docker Compose | Docker Documentation</a></li>
  <li><a href="https://docs.docker.com/compose/completion/">Compose command-line completion | Docker Documentation</a></li>
</ol>

  </div>

  <ul class="post-navigation">
    <li>
      
      <a href="/2017/09/08/deploy-mongodb-with-docker/">&laquo; Deploy MongoDB with Docker</a>
      
    </li>
    <li>
      
      <a href="/2017/11/12/understanding-the-linux-kernel-01-introduction/">Understanding The Linux Kernel 01 &raquo;</a>
      
    </li>
  </ul>
</article>

      </div>
    </div>

    <footer class="site-footer">
  <div class="license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details open>
    <summary>Extral Links</summary>
    <div>
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>


<!-- https://github.com/bryanbraun/anchorjs -->
<script src="/js/anchor.min.js"></script>
<script>
  anchors.add();
  anchors.remove(".site-title");
</script>




  </body>

</html>

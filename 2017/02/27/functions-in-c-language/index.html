<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bing WebMaster -->
  <meta name="msvalidate.01" content="AB2FFF876C37F59D9121882CC8395DE5" />

  <title>Functions in C Language</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://blog.codefarm.me/2017/02/27/functions-in-c-language/">
  <link rel="alternate" type="application/rss+xml" title="CODE FARM" href="https://blog.codefarm.me/feed.xml">

  <!-- https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js -->
<script type="text/javascript" src="/js/anti-baidu.min.js" charset="UTF-8"></script>

  
<!-- Google Analytics Website tracking -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83971182-1', 'auto');
  ga('send', 'pageview');

</script>


  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SN88FJ18E5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SN88FJ18E5');
</script>



</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <h2 class="site-title">
      <a class="site-title" href="/">CODE FARM</a>
    </h2>

     <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
        <div class="trigger">
            <ul>
                <li><a href="/">home</a>
                <li><a href="/category">category</a>
                <li><a href="/tag">tag</a>
                <li><a href="/archive">archive</a>
                <li><a href="/about">about</a>
                <li><a href="https://resume.github.io/?qqbuby" target="_blank">R&eacute;sum&eacute;</a>
            </ul>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Functions in C Language</h1>
    
    
    <p class="post-meta"><time datetime="2017-02-27T14:43:39+08:00" itemprop="datePublished">Feb 27, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <ul id="markdown-toc">
  <li><a href="#1-function-declarations" id="markdown-toc-1-function-declarations">1. Function Declarations</a></li>
  <li><a href="#2-function-definitions" id="markdown-toc-2-function-definitions">2. Function Definitions</a></li>
  <li><a href="#3-calling-functions" id="markdown-toc-3-calling-functions">3. Calling Functions</a></li>
  <li><a href="#4-function-parameters" id="markdown-toc-4-function-parameters">4. Function Parameters</a></li>
  <li><a href="#5-variable-length-parameter-lists" id="markdown-toc-5-variable-length-parameter-lists">5. Variable Length Parameter Lists</a></li>
  <li><a href="#6-calling-functions-through-function-pointers" id="markdown-toc-6-calling-functions-through-function-pointers">6. Calling Functions Through Function Pointers</a></li>
  <li><a href="#7-the-main-function" id="markdown-toc-7-the-main-function">7. The <code class="language-plaintext highlighter-rouge">main</code> Function</a></li>
  <li><a href="#8-recursive-functions" id="markdown-toc-8-recursive-functions">8. Recursive Functions</a></li>
  <li><a href="#9-static-functions" id="markdown-toc-9-static-functions">9. Static Functions</a></li>
  <li><a href="#10-nested-functions" id="markdown-toc-10-nested-functions">10. Nested Functions</a></li>
  <li><a href="#11-references" id="markdown-toc-11-references">11. References</a></li>
</ul>

<hr />

<p>You can write functions to separate parts of your program into distinct subprocedures. To write a function, you must at least create a function definition. It is a good idea also have an explicit function declaration; you don’t have to, but if you leave it out, then the default implicit declaration might not match the function itself, and you will get some compile-time warnings.</p>

<h3 id="1-function-declarations">1. Function Declarations</h3>

<p>You write a function declaration to specify the name of a function, a list of parameters, and the function’s return type. A function declaration ends with a semicolon. Here is the general form:</p>

<blockquote>
  <p>return-type function-name (parameter-list);</p>
</blockquote>

<p><em>return-type</em> indicates the data type of the value returned by the function. You can declare a function that doesn’t return anything by using the return type <code class="language-plaintext highlighter-rouge">void</code>.</p>

<p><em>function-name</em> can be any valid identifier.</p>

<p><em>parameter-list</em> consists of zero or more parameters, separated by commas. A typical parameter consists of a data type and an optional name for the parameter. You can also declare a function that has a variable number of parameters, or no parameters using <code class="language-plaintext highlighter-rouge">void</code>. <strong>Leaving out <em>prameter-list</em> entirely aslo indicates no parameters, but it is better to specify it explicitly with <code class="language-plaintext highlighter-rouge">void</code></strong>.</p>

<p>You should write the function declaration above the first use of the function. You can put it in a header file and use the <code class="language-plaintext highlighter-rouge">#include</code> directive to include that function declaration in any source code files that use the function.</p>

<h3 id="2-function-definitions">2. Function Definitions</h3>

<p>You write a function definition to specify what a function actually does. A function definition consists of informaiton regarding the function’s name, return type, and types and names of parameters, along with the body of the function. The function body is a series of statements enclosed in braces; in fact it is simply a block.</p>

<p>Here is the general form of a function definition:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>return-type function-name (parameter-list)
{
    function-body
}
</code></pre></div></div>

<p><em>return-type</em> and <em>function-name</em> are the same as what you use in the function declaration.</p>

<p><em>parameter-list</em> is the same as the parameter list used in the function declaration, except you <em>must</em> include names for the parameters in a function definition.</p>

<h3 id="3-calling-functions">3. Calling Functions</h3>

<p>You can call a function by using its name and supplying any needed parameters. Here is the general form of a function call:</p>

<blockquote>
  <p>function-name (parameters)</p>
</blockquote>

<p>A function call can make up an entire statement, or it can be used as a subexpression.</p>

<h3 id="4-function-parameters">4. Function Parameters</h3>

<p>Function parameters can be any expression—a literal value, a value stored in variable, a address in memory, or a more complex expression built by combining these.</p>

<p><strong><em>Within the function body, the parameter is a local copy of the value passed into the function; you cannot change the value passed in by changing the local copy.</em></strong></p>

<p>If the value that you pass to a function is a memory address (that is, a pointer), then you can access(and change) the data stored at the memory address. This achieves an effect similar to pass-by-reference in other languages, but is not the same: the memory address is simply a value, just like any other value, and cannot itself be changed. The difference between passing a pointer and passing an integer lies in what you can do using the value within the function.</p>

<p>Here is an example of calling a function with a pointer parameter:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="o">*</span><span class="n">x</span> <span class="o">=</span> <span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ...</span>
<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
<span class="n">foo</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>
</code></pre></div></div>

<p>The formal parameter for the function is of type <code class="language-plaintext highlighter-rouge">pointer-to-int</code>, and we call the function by passing it the address of a variable of type <code class="language-plaintext highlighter-rouge">int</code>. By dereferencing the pointer within the function body, we can both see and change the value stored in the address. The above changes the value of <code class="language-plaintext highlighter-rouge">a</code> to ‘57’.</p>

<p>Even if you don’t want to change the value stored in the address, passing the address of a variable rather than the variable itself can be useful if the variable type is large and you need to conserve memory space or limit the performance impact of parameter copying. For example:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">foo</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">z</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="nf">bar</span> <span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">foo</span> <span class="o">*</span><span class="n">a</span><span class="p">);</span>
</code></pre></div></div>

<p>In this case, unless you are working on a computer with very large memory address, it will take less memory to pass a pointer to the structure than to pass an instance of the structure.</p>

<p>One type of parameter that is always passed as a pointer is any sort of array:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">foo</span> <span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">[]);</span>
<span class="c1">// ...</span>
<span class="kt">int</span> <span class="n">x</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="n">foo</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
</code></pre></div></div>

<p>In this example, calling the function <code class="language-plaintext highlighter-rouge">foo</code> with the parameter <code class="language-plaintext highlighter-rouge">a</code> does not copy the entire array into a new local parameter with <code class="language-plaintext highlighter-rouge">foo</code>, it passes <code class="language-plaintext highlighter-rouge">x</code> as a pointer to the first element in <code class="language-plaintext highlighter-rouge">x</code>. Be careful, though: within the function, you cannot use <code class="language-plaintext highlighter-rouge">sizeof</code> to determine the size of the array <code class="language-plaintext highlighter-rouge">x</code>—<code class="language-plaintext highlighter-rouge">sizeof</code> instead tells you the size of the pointer <code class="language-plaintext highlighter-rouge">x</code>. Indeed, the above code is equivalent to:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">foo</span> <span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">a</span><span class="p">);</span>
<span class="c1">// ...</span>
<span class="kt">int</span> <span class="n">x</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="n">foo</span> <span class="p">(</span><span class="n">x</span><span class="p">);</span>
</code></pre></div></div>

<p>Explicitly specifying the length of the array in the parameter declaration will not help. If you really need to pass an array by value, you can wrap it in a <code class="language-plaintext highlighter-rouge">struct</code>, though doing this will rarely be useful(passing a <code class="language-plaintext highlighter-rouge">const</code>-qualified pointer is normally sufficient to indicate that the caller should not modify the array).</p>

<h3 id="5-variable-length-parameter-lists">5. Variable Length Parameter Lists</h3>

<p>You can write a function that takes a variable number of arguments; these are called <em>variadic functions</em>. To to this, the function needs to have at least one parameter of a known data type, but the remaining paramters pare optional, and can vary in both quantity and data type.</p>

<p>You list the initial parameters as normal, but then after that, use an ellipsis:’…’. Here is an exmaple function prototype:</p>
<blockquote>
  <p>int add_multiple_values (int number, …);</p>
</blockquote>

<p>To work with the optional parameters in the function definition, you need to use macros that are defined in the library header file <strong><em>&lt;stdarg.h&gt;</em></strong>, so you must <code class="language-plaintext highlighter-rouge">#include</code> that file. For a detailed description of there macros, see <em>The GNU C Library</em> manual’s section on variadic functions.</p>

<p>Here is an example:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">add_multiple_values</span><span class="p">(</span><span class="kt">int</span> <span class="n">number</span><span class="p">,</span> <span class="p">...)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">counter</span><span class="p">,</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="cm">/* Declare a variable of type ‘va_list’. */</span>
    <span class="kt">va_list</span> <span class="n">parameters</span><span class="p">;</span>
    <span class="cm">/* Call the ‘va_start’ function. */</span>
    <span class="n">va_start</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">number</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="n">number</span><span class="p">;</span> <span class="n">counter</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="cm">/* Get the values of the optional parameters. */</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">va_arg</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="cm">/* End use of the ‘parameters’ variable. */</span>
    <span class="n">va_end</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">total</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>To use optional parameters, you need to have a way to know how many there are. This can vary, so it can’t be hard-coded, but if you don’t know how many optional parameters you have, then you could have difficulty knowing when to stop using the <code class="language-plaintext highlighter-rouge">va_arg</code> function. In the above example, the first parameter to the <code class="language-plaintext highlighter-rouge">add_multiple_values</code> function, <code class="language-plaintext highlighter-rouge">number</code> , is the number of optional parameters actually passed. So, we minght call the function like this:</p>

<blockquote>
  <p>sum = add_multiple_values (3, 12, 34, 190);</p>
</blockquote>

<p>The first parameter indicates how many optional parameters follow it.</p>

<p>Also, note that you don’t actually need to use <code class="language-plaintext highlighter-rouge">va_end</code> function. In fact, with GCC it doesn’t do anything at all. However, you might want to include it to maximize compatibility with other compilers.</p>

<h3 id="6-calling-functions-through-function-pointers">6. Calling Functions Through Function Pointers</h3>

<p>You can also call a function identified by a pointer. The indirection operator <code class="language-plaintext highlighter-rouge">*</code> is optional when doing this.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"foo %d!</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d bar!</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">message</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)(</span><span class="kt">int</span><span class="p">),</span> <span class="kt">int</span> <span class="n">times</span><span class="p">)</span>  <span class="cm">/* func is a pointer to function returning void. */</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">j</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">times</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
        <span class="n">func</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>    <span class="cm">/*  (*func) (j); would be equivalent. */</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">example</span><span class="p">(</span><span class="kt">int</span> <span class="n">want_foo</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">bar</span><span class="p">;</span> <span class="cm">/* The &amp; is optional. */</span>

    <span class="k">if</span><span class="p">(</span><span class="n">want_foo</span><span class="p">)</span>
        <span class="n">pf</span> <span class="o">=</span> <span class="n">foo</span><span class="p">;</span>

    <span class="n">message</span><span class="p">(</span><span class="n">pf</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="7-the-main-function">7. The <code class="language-plaintext highlighter-rouge">main</code> Function</h3>

<p>Every program requires at least one function, called <code class="language-plaintext highlighter-rouge">main</code>. This is where the program begins executing. You do not need to write a declaration or prototype for <code class="language-plaintext highlighter-rouge">main</code>, but you do need to define it.</p>

<p>The return type for <code class="language-plaintext highlighter-rouge">main</code> is always <code class="language-plaintext highlighter-rouge">int</code>. You do not have to specify the return type for <code class="language-plaintext highlighter-rouge">main</code>, but you can. However, you <em>cannot</em> specify that it has a return type other than <code class="language-plaintext highlighter-rouge">int</code>.</p>

<p>In general, the return value from <code class="language-plaintext highlighter-rouge">main</code> indicates the program’s <em>exit status</em>. A value of zero or <code class="language-plaintext highlighter-rouge">EXIT_SUCCESS</code> indicates success and <code class="language-plaintext highlighter-rouge">EXIT_FAILURE</code> indicates an error. Otherwise, the significance of the value returned is implementation-defined.</p>

<p>Reaching the <code class="language-plaintext highlighter-rouge">}</code> at the end of <code class="language-plaintext highlighter-rouge">main</code> without a return, or executing a <code class="language-plaintext highlighter-rouge">return</code> statement with no value (that is, <code class="language-plaintext highlighter-rouge">return;</code>) are both eauivalent. In C89, the effect of this is undefined, but in C99 the effect is equivalent to <code class="language-plaintext highlighter-rouge">return 0;</code>.</p>

<p>You can write your <code class="language-plaintext highlighter-rouge">main</code> function to have no parameters (that is, as <code class="language-plaintext highlighter-rouge">int main (void)</code>), or to accept parameters from the command line. Here is a very simple <code class="language-plaintext highlighter-rouge">main</code> function with no parameters:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">puts</span> <span class="p">(</span><span class="s">"Hi there!"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>To accept command line parameters, you need to have two parameters in the <code class="language-plaintext highlighter-rouge">main</code> function, <code class="language-plaintext highlighter-rouge">int argc</code> followed by <code class="language-plaintext highlighter-rouge">char *argv[]</code>. You can change the names of those paramters, but they must have those data types—<code class="language-plaintext highlighter-rouge">int</code> and array of pointers to <code class="language-plaintext highlighter-rouge">char</code>. <code class="language-plaintext highlighter-rouge">argc</code> is the number of command line strings. <code class="language-plaintext highlighter-rouge">argv[0]</code>, the first element in the array, is the name of the program as typed at the command line; any following array elements are the parameters that followed the name of the program.</p>

<p>Here is an exmaple <code class="language-plaintext highlighter-rouge">main</code> function that accepts command line parameters, and prints out what those parameters are:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">counter</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="n">argc</span><span class="p">;</span> <span class="n">counter</span><span class="o">++</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="n">counter</span><span class="p">]);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="8-recursive-functions">8. Recursive Functions</h3>

<p>You can write a function that is recursive—a function that calls itself. Here is an example that computes the factorial of an integer.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">factorial</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Be careful that you do not write a function that infinitely recursive. In the above example, once <code class="language-plaintext highlighter-rouge">x</code> is 1, the recursion stops. However, int the following example, the recursion does stop until the program is interrupted or runs out of memory:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">watermelon</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">watermelon</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Functions can also be indirectly recursive, of course.</p>

<h3 id="9-static-functions">9. Static Functions</h3>

<p>You can define a function to be static if you want it to be callable only within the source file where it is defined:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">static</span> <span class="kt">int</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This is useful if you are building a reusable library of functions and need to include some subroutines that should not be callable by the end user.</p>

<p>Functions which are defined in this way are said to have <em>static linkage</em>. Unfortuanately the <code class="language-plaintext highlighter-rouge">static</code> keyword has multiple meanings.</p>

<h3 id="10-nested-functions">10. Nested Functions</h3>

<p>As a GNU C extension, you can define functions within other function, a technique known as nesting functions.</p>

<p>Here is an example of a tail-recursive factorial function, defined using a nested function:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">factorial</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">factorial_helper</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">factorial_helper</span><span class="p">((</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">factorial_helper</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Note that nested functions must be defined along with variable declarations at the begings of a function, and all other statements follow.</p>

<hr />

<h3 id="11-references">11. References</h3>

<ol>
  <li><a href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Functions">https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html</a></li>
</ol>

  </div>

  <ul class="post-navigation">
    <li>
      
      <a href="/2017/02/26/a-sample-program-in-c-language/">&laquo; A Sample Program in C Language</a>
      
    </li>
    <li>
      
      <a href="/2017/02/28/primitive-types-in-c-language/">Primitive Types in C Language &raquo;</a>
      
    </li>
  </ul>
</article>

      </div>
    </div>

    <footer class="site-footer">
  <div class="license">
    <span>Article licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></span>
  </div>
  
  <details open>
    <summary>Extral Links</summary>
    <div>
      
      <a href="https://jekyllrb.com/">Jekyll</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://shopify.github.io/">Liquid</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://docs.asciidoctor.org/">Asciidoctor</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="https://github.com/qqbuby/">GitHub</a>
      
      &nbsp;.&nbsp;
      
      
      <a href="/feed.xml">RSS</a>
      
      
    </div>
  </details>
  
</footer>


<!-- https://github.com/bryanbraun/anchorjs -->
<script src="/js/anchor.min.js"></script>
<script>
  anchors.add();
  anchors.remove(".site-title");
</script>




  </body>

</html>
